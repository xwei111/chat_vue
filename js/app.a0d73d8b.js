(function(){"use strict";var t={2899:function(t,e,n){var o=n(9242),r=n(3396),a=n(7139);const u={class:"chat_container"},c={class:"chat_wraper",id:"wraper"},i={class:"chat_bottom"};function l(t,e,n,l,s,f){const p=(0,r.up)("el-input"),d=(0,r.up)("el-button");return(0,r.wg)(),(0,r.iD)("div",u,[(0,r._)("div",c,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(l.list,(t=>((0,r.wg)(),(0,r.iD)("div",{class:"chat_item",key:t.id,style:(0,a.j5)("justify-content: "+("user"===t.type?"flex-start":"flex-end"))},[(0,r._)("div",{class:"chat_content",style:(0,a.j5)(`background: ${"user"===t.type?"#fff":"#67C23A"}; color: ${"user"===t.type?"#333":"#fff"}`)},(0,a.zw)(t.content),5)],4)))),128))]),(0,r._)("div",i,[(0,r.Wm)(p,{class:"chat_ipt",modelValue:l.message,"onUpdate:modelValue":e[0]||(e[0]=t=>l.message=t),placeholder:"请输入想要问的问题",onKeyup:(0,o.D2)(l.sendHandle,["enter"])},null,8,["modelValue","onKeyup"]),(0,r.Wm)(d,{class:"chat_btn",loading:l.loading,type:"success",onClick:l.sendHandle},{default:(0,r.w5)((()=>[(0,r.Uk)((0,a.zw)(l.text),1)])),_:1},8,["loading","onClick"])])])}n(7658);var s=n(4870),f=n(6265),p=n.n(f);const d=()=>{for(var t=[],e="0123456789abcdef",n=0;n<36;n++)t[n]=e.substr(Math.floor(16*Math.random()),1);t[14]="4",t[19]=e.substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23]="-";var o=t.join("");return o};var v={name:"App",setup(){const t=(0,s.iH)("发送"),e=(0,s.iH)([{id:d(),type:"chat",content:"您好，我已经接入OpenAI，你可以尝试问一些问题，我尽力回答，有时候会很沙雕，请您原谅！！！"}]),n=(0,s.iH)(null),o=(0,s.iH)(!1),r=()=>{const t=document.getElementById("wraper");setTimeout((()=>{t.scrollTo({top:1e6})}),100)},a=()=>{try{const a="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",u={model:"text-davinci-003",prompt:n.value,max_tokens:2e3,temperature:.5};p().post("https://api.openai.com/v1/completions",u,{timeout:3e5,headers:{Authorization:`Bearer ${a}`}}).then((n=>{const{data:{choices:a}}=n;e.value.push({id:d(),type:"chat",content:a?.[0]?.text??"我脑子有点混乱，不知道说啥"}),t.value="发送",o.value=!1,r()})).catch((()=>{e.value.push({id:d(),type:"chat",content:"我已经无法聊天了，后会有期"}),t.value="发送",o.value=!1,r()}))}catch(a){console.log(`error: ${a}`),o.value=!1}},u=()=>{"获取中"!==t.value&&n.value&&(e.value.push({id:d(),type:"user",content:n.value}),a(),n.value=null,t.value="获取中",o.value=!0,r())};return{text:t,list:e,message:n,loading:o,sendHandle:u}}},h=n(89);const m=(0,h.Z)(v,[["render",l]]);var y=m,b=n(3237);n(4415);(0,o.ri)(y).use(b.Z).mount("#app")}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var a=e[o]={exports:{}};return t[o].call(a.exports,a,a.exports,n),a.exports}n.m=t,function(){var t=[];n.O=function(e,o,r,a){if(!o){var u=1/0;for(s=0;s<t.length;s++){o=t[s][0],r=t[s][1],a=t[s][2];for(var c=!0,i=0;i<o.length;i++)(!1&a||u>=a)&&Object.keys(n.O).every((function(t){return n.O[t](o[i])}))?o.splice(i--,1):(c=!1,a<u&&(u=a));if(c){t.splice(s--,1);var l=r();void 0!==l&&(e=l)}}return e}a=a||0;for(var s=t.length;s>0&&t[s-1][2]>a;s--)t[s]=t[s-1];t[s]=[o,r,a]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,o){var r,a,u=o[0],c=o[1],i=o[2],l=0;if(u.some((function(e){return 0!==t[e]}))){for(r in c)n.o(c,r)&&(n.m[r]=c[r]);if(i)var s=i(n)}for(e&&e(o);l<u.length;l++)a=u[l],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(s)},o=self["webpackChunkchat_vue"]=self["webpackChunkchat_vue"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(2899)}));o=n.O(o)})();
//# sourceMappingURL=app.a0d73d8b.js.map